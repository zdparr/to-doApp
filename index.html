<!DOCTYPE html>
<html>
    <head>
        <title>To Do App</title>
        
        <!-- Local style sheet -->
        <link rel="stylesheet" href="index.css">
                
    </head>
    
    <body>
        
        <h2>To Do App</h2>
        
        <h4>What do you need to do?</h4>
        
        <input id="userInput" type="text" placeholder="i.e. pick up groceries">
        
        <div id="listArea"></div>
        
        <script>
            // Detect enter in input
            document.getElementById("userInput").addEventListener("keypress", handleEnter);
            
            
            // List area
            var listArea = document.getElementById("listArea");
            
            // Detect delete button
            listArea.addEventListener("click", handleClick);
            
            // Generate random number for task id
            function randomNumber () {
                var randomNumber = Math.floor(Math.random() * 9000) + 1000;
                return randomNumber;
            }
            
            // Add task to task list
            function addTask() {
                
                // Get user input
                var userInput = document.getElementById("userInput").value;
                
                // Create new div, add id, add class, add input
                var newTask = document.createElement("div");
                newTask.className = 'taskDiv';
                
                // Add item to list
                listArea.appendChild(newTask);
                
                // Clear input after enter
                document.getElementById("userInput").value = "";
                
                // Add text button
                var textButton = document.createElement('button');
                textButton.className = "btn listItem task"
                textButton.id = "task" + randomNumber();
                textButton.appendChild(document.createTextNode(userInput));
                newTask.appendChild(textButton);
                
                // Add delete button
                var deleteButton = document.createElement('button');
                deleteButton.className = "btn deleteTask"
                deleteButton.appendChild(document.createTextNode("X"));
                newTask.appendChild(deleteButton);
            }
            
            // Add tasks on enter
            function handleEnter(e) {
                if (e.keyCode == 13) {
                    
                    addTask();
                    
                }
            }
            
            // Delete tasks
            function handleClick(e){
                if (e.target.classList.contains("deleteTask")) {
                    var item = e.target.parentElement;
                    listArea.removeChild(item);
                }
                
                if (e.target.classList.contains("listItem")) {
                    var id = e.target.id;
                    var task = document.getElementById(id);
                    task.className = "strike";
                }
                
            }
            
            
        </script>
        
    </body>
</html>